<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>LIFF Flex Share</title>
  <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
</head>
<body>

<div style="text-align:center; margin-top:60px;">
  <h2>‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏ä‡∏£‡πå Flex ‡πÉ‡∏´‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô</h2>
  <button onclick="shareFlex()" style="font-size:20px;padding:16px 28px;border:none;border-radius:8px;cursor:pointer;">
    ‡πÅ‡∏ä‡∏£‡πå Flex ‡πÉ‡∏´‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡πÄ‡∏•‡∏¢!
  </button>
</div>

<script>
// init LIFF
liff.init({ liffId: "2008621627-1eN2VA2x" })
  .then(()=>console.log("LIFF init success"))
  .catch(err=>console.error("LIFF init failed", err));

// Flex JSON (‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏ö‡∏ö‡πÄ‡∏ï‡πá‡∏°)
const flexMessage = {
  "type": "flex",
  "altText": "‡∏£‡∏±‡∏ö ‡πÇ‡∏û‡∏™ ‡πÅ‡∏ä‡∏£‡πå ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° ‡∏£‡∏π‡∏õ",
  "contents": {
    "type": "bubble",
    "size": "giga",
    "hero": {
      "type": "image",
      "url": "https://media.giphy.com/media/ICOgUNjpvO0PC/giphy.gif",
      "size": "full",
      "aspectRatio": "1:1",
      "aspectMode": "cover",
      "animated": true
    },
    "body": {
      "type": "box",
      "layout": "vertical",
      "contents": [
        {
          "type": "text",
          "text": "‡∏£‡∏∞‡∏ö‡∏ö PYTHON  AUTOPOST",
          "weight": "bold",
          "size": "xl",
          "align": "center",
          "color": "#ffffff",
          "wrap": true
        }
      ],
      "backgroundColor": "#000000"
    },
    "footer": {
      "type": "box",
      "layout": "vertical",
      "spacing": "sm",
      "backgroundColor": "#99ffff",
      "contents": [
        { "type": "button", "style": "primary", "height": "sm", "offsetTop": "sm",
          "action": { "type": "uri", "label": "‡πÇ‡∏û‡∏™‡∏£‡∏π‡∏õ FLEX MESSAGE", "uri": "https://line.me/ti/p/~mc357.com" } },
        { "type": "button", "style": "primary", "height": "sm", "offsetTop": "sm",
          "action": { "type": "uri", "label": "‡∏£‡∏∞‡∏ö‡∏ö ‡πÇ‡∏û‡∏™‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°", "uri": "https://line.me/ti/p/~mc357.com" } },
        { "type": "button", "style": "primary", "height": "sm", "offsetTop": "sm",
          "action": { "type": "uri", "label": "‡∏£‡∏∞‡∏ö‡∏ö ‡πÅ‡∏ä‡∏£‡πå‡πÇ‡∏û‡∏™‡∏à‡∏≤‡∏Å VOOM", "uri": "https://line.me/ti/p/~mc357.com" } },
        { "type": "button", "style": "primary", "height": "sm", "offsetTop": "sm",
          "action": { "type": "uri", "label": "‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏ö‡∏ö AUTO ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÄ‡∏≠‡∏á", "uri": "https://line.me/ti/p/~mc357.com" } },
        { "type": "button", "style": "primary", "height": "sm", "offsetTop": "sm",
          "action": { "type": "uri", "label": "‡∏£‡∏≤‡∏Ñ‡∏≤ ‡∏ñ‡∏π‡∏Å‡∏™‡∏∏‡∏î‡πÜ", "uri": "https://line.me/ti/p/~mc357.com" } },
        { "type": "button", "style": "primary", "height": "sm", "offsetTop": "sm",
          "action": { "type": "uri", "label": "‡∏ù‡∏≤‡∏Å‡πÇ‡∏û‡∏™ ‡∏´‡∏£‡∏∑‡∏≠ ‡πÄ‡∏´‡∏°‡∏≤‡∏£‡∏∞‡∏ö‡∏ö ‡πÄ‡∏£‡∏≤‡∏°‡∏µ‡∏Ñ‡∏£‡∏ö", "uri": "https://line.me/ti/p/~mc357.com" } },
        { "type": "button", "style": "link", "height": "sm", "offsetTop": "sm",
          "action": { "type": "uri", "label": "üëáüëáüëáüëáüëá", "uri": "https://line.me/ti/p/~mc357.com" } },
        { "type": "button", "style": "primary", "height": "sm", "offsetTop": "sm",
          "action": { "type": "uri", "label": "‡∏Ç‡∏≤‡∏¢‡∏•‡∏¥‡πâ‡∏á‡∏Ñ‡πå‡∏Å‡∏•‡∏∏‡πà‡∏° ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ñ‡∏π‡∏Å", "uri": "https://line.me/ti/p/~mc357.com" } },
        { "type": "button", "style": "primary", "height": "sm", "offsetTop": "sm",
          "action": { "type": "uri", "label": "‡∏£‡∏±‡∏ö‡∏î‡∏∂‡∏á‡∏Å‡∏•‡∏∏‡πà‡∏°", "uri": "https://line.me/ti/p/~mc357.com" } },
        { "type": "button", "style": "primary", "height": "sm", "offsetTop": "sm",
          "action": { "type": "uri", "label": "‡∏Ç‡∏≤‡∏¢‡πÅ‡∏ü‡πâ‡∏°‡∏£‡∏∞‡∏ö‡∏ö ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡∏≠‡∏ô", "uri": "https://line.me/ti/p/~mc357.com" } },
        { "type": "button", "style": "primary", "height": "sm", "offsetTop": "sm", "color": "#000000",
          "action": { "type": "uri", "label": "‡∏™‡∏ô‡πÉ‡∏à‡∏Ñ‡∏•‡∏¥‡∏Å‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢ üëá", "uri": "https://line.me/ti/p/~mc357.com" } },
        { "type": "button", "style": "primary", "height": "sm", "offsetTop": "sm", "color": "#000000",
          "action": { "type": "uri", "label": "‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏•‡∏ô‡πå ‡πÑ‡∏≠‡∏î‡∏µ mc357.com", "uri": "https://line.me/ti/p/~mc357.com" } },
        { "type": "button", "style": "primary", "height": "sm", "offsetTop": "sm", "color": "#000000",
          "action": { "type": "uri", "label": "‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡πà‡∏á‡πÉ‡∏´‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏î‡∏πüòò", "uri": "https://liff.line.me/2008621627-1eN2VA2x" } }
      ]
    }
  }
};

// share function
async function shareFlex() {
  if (!liff.isInClient()) {
    alert("‚ö† ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏õ‡∏¥‡∏î‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏ú‡πà‡∏≤‡∏ô‡πÅ‡∏≠‡∏õ LINE ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏ä‡∏£‡πå‡πÉ‡∏´‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô");
    return;
  }
  try {
    await liff.shareTargetPicker([flexMessage]);
    alert("‚ú® ‡πÅ‡∏ä‡∏£‡πå‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!");
  } catch (e) {
    alert("‚ùå ‡πÅ‡∏ä‡∏£‡πå‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à");
    console.error(e);
  }
}
</script>

</body>
</html>