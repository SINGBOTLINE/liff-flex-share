<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>üîê Protected LIFF</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>

<style>
body{
  margin:0;
  min-height:100vh;
  background:#000 url('https://i.postimg.cc/j5Gkxs3K/IMG-1275.gif') center/cover;
  color:#fff;
  font-family:sans-serif;
  display:flex;
  justify-content:center;
  align-items:center;
}
.panel{
  width:90%;
  max-width:360px;
  background:rgba(0,0,0,.75);
  padding:15px;
  border-radius:10px;
  text-align:center;
}
input,button{
  width:100%;
  margin-top:10px;
  padding:10px;
  font-size:15px;
}
button{
  background:#000;
  color:#0ff;
  border:1px solid #0ff;
}
button:hover{background:#0ff;color:#000}
.qr img{
  width:160px;
  border:2px solid #0ff;
  border-radius:8px;
  margin-top:10px;
}
</style>
</head>

<body>

<!-- üîê ‡πÉ‡∏™‡πà‡∏£‡∏´‡∏±‡∏™ -->
<div class="panel" id="loginPanel">
  <h3>üîê ‡πÉ‡∏™‡πà‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô</h3>
  <input type="password" id="pass" placeholder="‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô">
  <button onclick="check()">‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</button>
</div>

<!-- ‚ùå ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå -->
<div class="panel" id="denyPanel" style="display:none">
  <h3>‚õî ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</h3>
  <button onclick="contact()">‚ûï ‡πÅ‡∏≠‡∏î LINE ‡∏ú‡∏π‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á</button>
  <div class="qr">
    <img src="https://img5.pic.in.th/file/secure-sv1/IMG_12468d6ce5b9565e3489.jpeg">
    <p>‡∏™‡πÅ‡∏Å‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏≠‡∏î‡πÑ‡∏•‡∏ô‡πå</p>
  </div>
</div>

<!-- ‚úÖ ‡∏´‡∏ô‡πâ‡∏≤‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô -->
<div class="panel" id="mainPanel" style="display:none">
  <h3>‚úÖ ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏•‡πâ‡∏ß</h3>
  <p id="user"></p>
</div>

<script>
const LIFF_ID = "2008621627-1eN2VA2x";
const PASSWORD = "357000";
const ADMIN_LINE = "mc357.com";

const WHITELIST = [
 "Ua48c35a3cd7641afee1d85c317032ad5",
 "Uffa99b9ba90b2d097eb5300c6a521560"
];

liff.init({ liffId: LIFF_ID });

async function check(){
  if(document.getElementById("pass").value !== PASSWORD){
    return deny();
  }

  if(!liff.isLoggedIn()) liff.login();
  const p = await liff.getProfile();

  if(!WHITELIST.includes(p.userId)){
    return deny();
  }

  document.getElementById("loginPanel").style.display="none";
  document.getElementById("mainPanel").style.display="block";
  document.getElementById("user").innerText = "‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ " + p.displayName;
}

function deny(){
  document.getElementById("loginPanel").style.display="none";
  document.getElementById("denyPanel").style.display="block";
}

function contact(){
  location.href = "https://line.me/ti/p/~" + ADMIN_LINE;
}
</script>

</body>
</html>